(this["webpackJsonppdf-editor"]=this["webpackJsonppdf-editor"]||[]).push([[0],{224:function(e,t,n){e.exports=n(386)},229:function(e,t,n){},386:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(38),i=n.n(c),o=(n(229),n(54)),u=n(53),s=n(10),l=n.n(s),d=n(14),p=n(188),f=n(189),m=n(212),h=n(213),g=(n(231),n(400)),v=n(398),b=n(55),O=n(396),w=n(392),j=n(397),E=n(395),x=n(401),D=[{name:"pdfjsLib",src:"https://unpkg.com/pdfjs-dist@2.3.200/build/pdf.min.js"},{name:"PDFLib",src:"https://unpkg.com/pdf-lib@1.4.0/dist/pdf-lib.min.js"},{name:"download",src:"https://unpkg.com/downloadjs@1.4.7"},{name:"makeTextPDF",src:"https://cdn.jsdelivr.net/gh/snamoah/react-pdf-editor/public/makeTextPDF.js"}],M={},k=function(e){return M[e]},y={Courier:{correction:function(e,t){return(e*t-e)/2+e/6}},Helvetica:{correction:function(e,t){return(e*t-e)/2+e/10}},"Times-Roman":{correction:function(e,t){return(e*t-e)/2+e/7}}},S=Object(o.a)({},y,{"\u6a19\u6977\u9ad4":{src:"/CK.ttf",correction:function(e,t){return(e*t-e)/2}}}),P=function(e){if(y[e])return y[e];var t=S[e];if(!t)throw new Error("Font '".concat(e,"' not exists."));y[e]=fetch(t.src).then((function(e){return e.arrayBuffer()})).then((function(n){var a=new window.FontFace(e,n);return a.display="swap",a.load().then((function(){return document.fonts.add(a)})),Object(o.a)({},t,{buffer:n})}))},I=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){return t(a.result)},a.onerror=n,a.readAsArrayBuffer(e)}))},C=function(e){return new Promise((function(t,n){var a=new Image;if(a.onload=function(){return t(a)},a.onerror=n,e instanceof Blob){var r=window.URL.createObjectURL(e);a.src=r}else a.src=e}))};function F(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){return t(a.result)},a.onerror=n,a.readAsDataURL(e)}))}function L(e){return A.apply(this,arguments)}function A(){return(A=Object(d.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("pdfjsLib");case 2:return n=e.sent,a=new Blob([t]),r=window.URL.createObjectURL(a),e.abrupt("return",n.getDocument(r).promise);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=n(8);function T(){var e=0;return function(){return e++}}var U=function(){},N=function(e,t,n,a,r,c,i,o){var u=t+a,s=e+n;return{top:u<0?0:u+c>o+25?o-c+25:u,left:s<0?0:s+r>i+25?i-r+25:s}};function V(e,t,n){return H.apply(this,arguments)}function H(){return(H=Object(d.a)(l.a.mark((function e(t,n,a){var r,c,i,o,u,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("PDFLib");case 2:return r=e.sent,e.next=5,k("download");case 5:return c=e.sent,e.next=8,k("makeTextPDF");case 8:return i=e.sent,e.prev=9,e.t0=r.PDFDocument,e.next=13,I(t);case 13:return e.t1=e.sent,e.next=16,e.t0.load.call(e.t0,e.t1);case 16:o=e.sent,e.next=23;break;case 19:throw e.prev=19,e.t2=e.catch(9),console.log("Failed to load PDF."),e.t2;case 23:return u=o.getPages().map(function(){var e=Object(d.a)(l.a.mark((function e(t,a){var c,u,s,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n[a],u=t.getHeight(),s=t.getWidth(),p=c.map(function(){var e=Object(d.a)(l.a.mark((function e(n){var a,c,d,p,f,m,h,g,v,b,O,w,j,E,x,D,M,k,y,S,C,F,L,A,T,N;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("image"!==n.type){e.next=29;break}if(a=n.file,c=n.x,d=n.y,p=n.width,f=n.height,e.prev=2,"image/jpeg"!==a.type){e.next=13;break}return e.t0=o,e.next=7,I(a);case 7:return e.t1=e.sent,e.next=10,e.t0.embedJpg.call(e.t0,e.t1);case 10:m=e.sent,e.next=20;break;case 13:return e.t2=o,e.next=16,I(a);case 16:return e.t3=e.sent,e.next=19,e.t2.embedPng.call(e.t2,e.t3);case 19:m=e.sent;case 20:return e.abrupt("return",(function(){return t.drawImage(m,{x:c,y:u-d-f,width:p,height:f})}));case 23:return e.prev=23,e.t4=e.catch(2),console.log("Failed to embed image.",e.t4),e.abrupt("return",U);case 27:e.next=50;break;case 29:if("text"!==n.type){e.next=46;break}return h=n.x,g=n.y,v=n.lines,b=n.lineHeight,O=n.size,w=n.fontFamily,e.next=33,P(w);case 33:return j=e.sent,e.t5=o,e.next=37,i({lines:v,fontSize:O,lineHeight:b,width:s,height:u,font:(null===j||void 0===j?void 0:j.buffer)||w,dy:j&&j.correction&&j.correction(O,b)});case 37:return e.t6=e.sent,e.next=40,e.t5.embedPdf.call(e.t5,e.t6);case 40:return E=e.sent,x=Object(R.a)(E,1),D=x[0],e.abrupt("return",(function(){return t.drawPage(D,{width:s,height:u,x:h,y:-g})}));case 46:if("drawing"!==n.type){e.next=50;break}return M=n.x,k=n.y,y=n.path,S=n.scale,C=r.pushGraphicsState,F=r.setLineCap,L=r.popGraphicsState,A=r.setLineJoin,T=r.LineCapStyle,N=r.LineJoinStyle,e.abrupt("return",(function(){t.pushOperators(C(),F(T.Round),A(N.Round)),t.drawSvgPath(y,{borderWidth:5,scale:S,x:M,y:u-k}),t.pushOperators(L())}));case 50:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}()),e.next=6,Promise.all(p);case 6:e.sent.forEach((function(e){return e()}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=26,Promise.all(u);case 26:return e.prev=26,e.next=29,o.save();case 29:s=e.sent,c(s,a,"application/pdf"),e.next=37;break;case 33:throw e.prev=33,e.t3=e.catch(26),console.log("Failed to save PDF."),e.t3;case 37:case"end":return e.stop()}}),e,null,[[9,19],[26,33]])})))).apply(this,arguments)}var W,B=function(e){var t=e.page,n=e.updateDimensions,c=Object(a.createRef)(),i=Object(a.useState)(500),o=Object(R.a)(i,2),u=o[0],s=o[1],p=Object(a.useState)(window.innerHeight),f=Object(R.a)(p,2),m=f[0],h=f[1],g=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,r,i,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(!(a=e.sent)){e.next=12;break}if(i=null===(r=c.current)||void 0===r?void 0:r.getContext("2d"),o=a.getViewport({scale:1}),s(o.width),h(o.height),!i){e.next=12;break}return e.next=11,a.render({canvasContext:null===(u=c.current)||void 0===u?void 0:u.getContext("2d"),viewport:o}).promise;case 11:n({width:o.width,height:o.height});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){g(t)}),[t,u,m]),r.a.createElement("div",null,r.a.createElement("canvas",{ref:c,width:u,height:m}))};!function(e){e.MOVE="MOVE",e.SCALE="SCALE",e.NO_MOVEMENT="NO_MOVEMENT"}(W||(W={}));var Y=n(399),X=n(190);function _(){var e=Object(X.a)(["\n    position: relative\n"]);return _=function(){return e},e}var z=n(191).a.div(_()),J=function(e){var t=e.title,n=e.onConfirm,a=e.onDismiss;return r.a.createElement("div",null,r.a.createElement(v.a,{as:"h4",inverted:!0},t),r.a.createElement(O.a,{onClick:a},"No"),r.a.createElement(O.a,{negative:!0,onClick:n},"Yes"))},G=function(e){var t=e.canvasRef,n=e.positionTop,a=e.positionLeft,c=e.width,i=e.height,o=e.handleMouseOut,u=e.handleMouseDown,s=e.handleMouseMove,l=e.handleMouseUp,d=e.handleImageScale,p=e.dimmerActive,f=e.cancelDelete,m=e.deleteImage,h=e.onClick;return r.a.createElement("div",{onMouseDown:u,onMouseMove:s,onMouseUp:l,onMouseOut:o,onDoubleClick:h,style:{position:"absolute",top:n,left:a,borderStyle:"dashed",borderWidth:1,borderColor:"grey",width:c+2,height:i+2,cursor:"move"}},r.a.createElement(Y.a.Dimmable,{as:z,size:"medium",dimmed:p},r.a.createElement("canvas",{ref:t,style:{width:"100%",height:"100%"}}),r.a.createElement(Y.a,{active:p,onClickOutside:f},r.a.createElement(J,{title:"Delete?",onConfirm:m,onDismiss:f}))),r.a.createElement("div",{"data-direction":"top-left",onMouseDown:u,onMouseUp:l,onMouseMove:d,style:{position:"absolute",cursor:"nwse-resize",top:-5,left:-5,width:20,height:20}}))},K=function(e){var t=e.x,n=e.y,c=e.payload,i=e.width,o=e.height,u=e.pageWidth,s=e.removeImage,l=e.pageHeight,d=e.updateImageObject,p=Object(a.createRef)(),f=Object(a.useState)(i),m=Object(R.a)(f,2),h=m[0],g=m[1],v=Object(a.useState)(o),b=Object(R.a)(v,2),O=b[0],w=b[1],j=Object(a.useState)(!1),E=Object(R.a)(j,2),x=E[0],D=E[1],M=Object(a.useState)(n),k=Object(R.a)(M,2),y=k[0],S=k[1],P=Object(a.useState)(t),I=Object(R.a)(P,2),C=I[0],F=I[1],L=Object(a.useState)([]),A=Object(R.a)(L,2),T=A[0],U=A[1],V=Object(a.useState)(W.NO_MOVEMENT),H=Object(R.a)(V,2),B=H[0],Y=H[1],X=Object(a.useState)(!1),_=Object(R.a)(X,2),z=_[0],J=_[1],K=function(e){if(e.preventDefault(),D(!1),B===W.MOVE){var t=N(C,y,e.movementX,e.movementY,h,O,u,l),n=t.top,a=t.left;d({x:a,y:n})}B===W.SCALE&&d({x:C,y:y}),Y(W.NO_MOVEMENT)};Object(a.useEffect)((function(){!function(e){var t=p.current;if(t){var n=t.getContext("2d");if(n){var a=1;h>300&&(a=300/h),O>300&&(a=Math.min(a,300/O));var r=h*a,i=O*a;g(r),w(i),t.width=r,t.height=i,n.drawImage(c,0,0,r,i),t.toBlob((function(e){d({file:e,width:r,height:i})}))}}}()}),[c,h,O]);var $=function(){return J(!1)};return r.a.createElement(G,{onClick:function(){return J(!0)},dimmerActive:z,cancelDelete:$,deleteImage:function(){$(),s()},positionLeft:C,positionTop:y,canvasRef:p,width:h,height:O,handleImageScale:function(e){e.preventDefault(),x&&(T.includes("left")&&(F(C+e.movementX),g(h-e.movementX)),T.includes("top")&&(S(y+e.movementY),w(O-e.movementY)),T.includes("right")&&g(h+e.movementX),T.includes("bottom")&&w(O+e.movementY))},handleMouseDown:function(e){e.preventDefault(),D(!0),Y(W.MOVE);var t=e.currentTarget.dataset.direction;t&&(U(t.split("-")),Y(W.SCALE))},handleMouseUp:K,handleMouseMove:function(e){if(e.preventDefault(),x){var t=N(C,y,e.movementX,e.movementY,h,O,u,l),n=t.top,a=t.left;S(n),F(a)}},handleMouseOut:function(e){B===W.MOVE&&K(e)}})},$=n(393),q=function(e){var t=e.open,n=e.dismiss,c=e.confirm,i=e.drawing,o=Object(a.createRef)(),s=Object(a.useState)([]),l=Object(R.a)(s,2),d=l[0],p=l[1],f=Object(a.useState)(i&&i.path||""),m=Object(R.a)(f,2),h=m[0],g=m[1],v=Object(a.useState)(0),b=Object(R.a)(v,2),w=b[0],j=b[1],E=Object(a.useState)(0),x=Object(R.a)(E,2),D=x[0],M=x[1],k=Object(a.useState)(1/0),y=Object(R.a)(k,2),S=y[0],P=y[1],I=Object(a.useState)(0),C=Object(R.a)(I,2),F=C[0],L=C[1],A=Object(a.useState)(1/0),T=Object(R.a)(A,2),U=T[0],N=T[1],V=Object(a.useState)(0),H=Object(R.a)(V,2),W=H[0],B=H[1],Y=Object(a.useState)(!1),X=Object(R.a)(Y,2),_=X[0],z=X[1];Object(a.useEffect)((function(){var e=o.current;if(e){var t=e.getBoundingClientRect(),n=t.x,a=t.y;j(n),M(a)}}),[o]);var J=function(){p([]),g(""),P(1/0),L(0),N(1/0),B(0),n()};return r.a.createElement($.a,{size:"small",open:t,onClose:J},r.a.createElement($.a.Header,null,"Add your Drawing"),r.a.createElement($.a.Content,null,r.a.createElement("div",{onMouseDown:function(e){e.preventDefault(),z(!0);var t=e.clientX-w,n=e.clientY-D;P(Math.min(S,t)),L(Math.max(F,t)),N(Math.min(U,n)),B(Math.max(W,n)),g(h+"M".concat(t,",").concat(n)),p([].concat(Object(u.a)(d),[["M",t,n]]))},onMouseMove:function(e){if(e.preventDefault(),_){var t=e.clientX-w,n=e.clientY-D;P(Math.min(S,t)),L(Math.max(F,t)),N(Math.min(U,n)),B(Math.max(W,n)),g(h+"L".concat(t,",").concat(n)),p([].concat(Object(u.a)(d),[["L",t,n]]))}},onMouseUp:function(e){e.preventDefault(),z(!1)}},r.a.createElement("svg",{ref:o,style:{width:"100%",height:"50vh"}},r.a.createElement("path",{strokeWidth:"5",strokeLinejoin:"round",strokeLinecap:"round",stroke:"black",fill:"none",d:h})))),r.a.createElement($.a.Actions,null,r.a.createElement(O.a,{color:"black",content:"Cancel",onClick:J}),r.a.createElement(O.a,{content:"Done",labelPosition:"right",icon:"checkmark",onClick:function(){if(d.length){var e=-(S-10),t=-(U-10);c({width:F-S+20,height:W-U+20,path:d.reduce((function(n,a){return"".concat(n).concat(a[0]).concat(a[1]+e,", ").concat(a[2]+t)}),"")}),J()}else c()},positive:!0})))},Q=function(e){var t=e.dimmerActive,n=e.cancelDelete,a=e.deleteDrawing,c=e.positionTop,i=e.positionLeft,o=e.width,u=e.height,s=e.svgRef,l=e.path,d=e.handleMouseDown,p=e.handleMouseMove,f=e.handleMouseOut,m=e.handleMouseUp,h=e.onClick;return r.a.createElement("div",{onMouseDown:d,onMouseMove:p,onMouseUp:m,onMouseOut:f,onDoubleClick:h,style:{position:"absolute",top:c,left:i,width:o,height:u,cursor:"move"}},r.a.createElement(Y.a.Dimmable,{as:z,dimmed:t},r.a.createElement("svg",{ref:s},r.a.createElement("path",{strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round",stroke:"black",fill:"none",d:l})),r.a.createElement(Y.a,{active:t,onClickOutside:n},r.a.createElement(J,{title:"Delete?",onConfirm:a,onDismiss:n}))))},Z=function(e){var t=e.x,n=e.y,c=e.width,i=e.height,o=e.path,u=e.pageWidth,s=e.pageHeight,l=e.removeDrawing,d=e.updateDrawingObject,p=Object(a.createRef)(),f=Object(a.useState)(!1),m=Object(R.a)(f,2),h=m[0],g=m[1],v=Object(a.useState)(n),b=Object(R.a)(v,2),O=b[0],w=b[1],j=Object(a.useState)(t),E=Object(R.a)(j,2),x=E[0],D=E[1],M=Object(a.useState)(W.NO_MOVEMENT),k=Object(R.a)(M,2),y=k[0],S=k[1],P=Object(a.useState)(!1),I=Object(R.a)(P,2),C=I[0],F=I[1];Object(a.useEffect)((function(){var e=p.current;e&&e.setAttribute("viewBox","0 0 ".concat(c," ").concat(i))}),[p,c,i]);var L=function(e){if(e.preventDefault(),g(!1),y===W.MOVE){var t=N(x,O,e.movementX,e.movementY,c,i,u,s),n=t.top,a=t.left;d({x:a,y:n})}y===W.SCALE&&d({x:x,y:O}),S(W.NO_MOVEMENT)},A=function(){return F(!1)};return r.a.createElement(Q,{path:o,width:c,svgRef:p,height:i,onClick:function(){return F(!0)},cancelDelete:A,dimmerActive:C,deleteDrawing:function(){A(),l()},handleMouseDown:function(e){g(!0),S(W.MOVE)},handleMouseMove:function(e){if(e.preventDefault(),h){var t=N(x,O,e.movementX,e.movementY,c,i,u,s),n=t.top,a=t.left;w(n),D(a)}},handleMouseOut:function(e){y===W.MOVE&&L(e)},handleMouseUp:L,positionLeft:x,positionTop:O})},ee=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this,{})).pdfInput=void 0,e.imageInput=void 0,e.state={pdfFile:void 0,selectedPageIndex:-1,pdfName:"",pages:[],allObjects:[],pagesScale:[],pageDimensions:[],saving:!1,drawing:!1,uploading:!1,selectedDrawing:0},e.onUploadPDF=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({uploading:!0}),a=n.target.files||n.dataTransfer&&n.dataTransfer.files){t.next=4;break}return t.abrupt("return");case 4:if((r=a[0])&&"application/pdf"===r.type){t.next=7;break}return t.abrupt("return");case 7:return e.setState({selectedPageIndex:-1}),t.prev=8,t.next=11,e.addPDF(r);case 11:e.setState({selectedPageIndex:0}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),console.log(t.t0);case 17:return t.prev=17,e.setState({uploading:!1}),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[8,14,17,20]])})));return function(e){return t.apply(this,arguments)}}(),e.addPDF=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L(n);case 3:a=t.sent,e.setState({pdfName:n.name,pdfFile:n,pages:Array(a.numPages).fill(0).map((function(e,t){return a.getPage(t+1)})),allObjects:Array(a.numPages).fill([]),pagesScale:Array(a.numPages).fill(1),pageDimensions:Array(a.numPages).fill({width:0,height:0})}),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.log("Failed to add pdf."),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e.savePDF=Object(d.a)(l.a.mark((function t(){var n,a,r,c,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,a=n.pdfFile,r=n.saving,c=n.pages,i=n.allObjects,o=n.pdfName,a&&!r&&c.length){t.next=3;break}return t.abrupt("return");case 3:return e.setState({saving:!0}),t.prev=4,t.next=7,V(a,i,o);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),console.log(t.t0);case 12:return t.prev=12,e.setState({saving:!1}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[4,9,12,15]])}))),e.clearInput=function(e){e.currentTarget.value=""},e.renderHiddenInputs=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{ref:e.pdfInput,type:"file",name:"pdf",id:"pdf",accept:"application/pdf",onChange:e.onUploadPDF,onClick:e.clearInput,style:{display:"none"}}),e.state.selectedPageIndex>-1&&r.a.createElement("input",{ref:e.imageInput,type:"file",id:"image",name:"image",accept:"image/*",onClick:e.clearInput,style:{display:"none"},onChange:e.onUploadImage}))},e.onUploadImage=function(t){var n=e.state.selectedPageIndex,a=t.target.files&&t.target.files[0];a&&n>=0&&e.addImage(a)},e.addImage=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,r,c,i,o,s,d,p,f;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,r=a.allObjects,c=a.selectedPageIndex,t.prev=1,t.next=4,F(n);case 4:return i=t.sent,t.next=7,C(i);case 7:o=t.sent,s=T(),d=o.width,p=o.height,f={id:s,type:"image",width:d,height:p,x:0,y:0,payload:o,file:n},e.setState({allObjects:r.map((function(e,t){return t===c?[].concat(Object(u.a)(e),[f]):e}))}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log("Fail to add image.",t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}(),e.handleFileInput=function(t){return function(){var n="pdf"===t?e.pdfInput.current:"image"===t?e.imageInput.current:null;n&&n.click()}},e.renderEmpty=function(){return r.a.createElement(g.a,{placeholder:!0,loading:e.state.uploading,style:{height:"80vh"}},r.a.createElement(v.a,{icon:!0},r.a.createElement(b.a,{name:"file pdf outline"}),"Upload your PDF to start editing!"),r.a.createElement(O.a,{primary:!0,onClick:e.handleFileInput("pdf")},"Load PDF"))},e.nextPage=function(){e.setState((function(e){return{selectedPageIndex:e.selectedPageIndex+1}}))},e.previousPage=function(){e.setState((function(e){return{selectedPageIndex:e.selectedPageIndex-1}}))},e.updateObject=function(t,n,a){var r=e.state.allObjects,c=r[n],i=c[t],u=Object(o.a)({},i,{},a);c[t]=u,e.setState({allObjects:r.map((function(e,t){return n===t?c:e}))})},e.updatePageDimensions=function(t,n){e.setState({pageDimensions:e.state.pageDimensions.map((function(e,a){return t===a?n:e}))})},e.removeObject=function(t,n){var a=e.state.allObjects,r=a[n];r.splice(t,1),a[n]=r,e.setState({allObjects:a})},e.openDrawingModal=function(){e.setState({drawing:!0})},e.closeDrawingModal=function(){e.setState({drawing:!1})},e.addDrawing=function(t,n){var a=e.state.allObjects;if(n){var r=Object(o.a)({id:T(),type:"drawing"},n,{x:0,y:0});e.setState({allObjects:a.map((function(e,n){return t===n?[].concat(Object(u.a)(e),[r]):e}))})}},e.pdfInput=r.a.createRef(),e.imageInput=r.a.createRef(),e}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.allObjects,a=t.pdfName,c=t.pdfFile,i=t.pages,o=t.saving,u=t.selectedPageIndex,s=t.pageDimensions,l=i.length>1,d=u===i.length-1,p=i[u],f=n[u],m=s[u];return r.a.createElement(w.a,{style:{margin:30}},this.renderHiddenInputs(),r.a.createElement(j.a,{pointing:!0},r.a.createElement(j.a.Item,{header:!0},"PDF Editor"),r.a.createElement(j.a.Menu,{position:"right"},c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{item:!0,closeOnBlur:!0,icon:"edit outline",simple:!0},r.a.createElement(E.a.Menu,null,r.a.createElement(E.a.Item,{onClick:this.handleFileInput("image")},"Add Image"),r.a.createElement(E.a.Item,{onClick:this.openDrawingModal},"Add Drawing"))),r.a.createElement(j.a.Item,{name:o?"Saving...":"Save",disabled:o,onClick:this.savePDF})),r.a.createElement(j.a.Item,{name:"Upload new PDF",onClick:this.handleFileInput("pdf")}))),c?r.a.createElement(x.a,null,r.a.createElement(x.a.Row,null,r.a.createElement(x.a.Column,{width:3,verticalAlign:"middle"},l&&0!==u&&r.a.createElement(O.a,{circular:!0,icon:"angle left",onClick:this.previousPage})),r.a.createElement(x.a.Column,{width:10},p&&r.a.createElement(g.a,{style:{position:"relative"},compact:!0,stacked:l&&!d},r.a.createElement(B,{updateDimensions:function(t){return e.updatePageDimensions(u,t)},page:p}),f&&f.map((function(t,n){var c="".concat(a,"-").concat(n);return"image"===t.type?r.a.createElement(K,Object.assign({removeImage:function(){return e.removeObject(n,u)},key:c,pageWidth:m.width,pageHeight:m.height,updateImageObject:function(t){return e.updateObject(n,u,t)}},t)):"drawing"===t.type?r.a.createElement(Z,Object.assign({key:c,removeDrawing:function(){return e.removeObject(n,u)},pageWidth:m.width,pageHeight:m.height,updateDrawingObject:function(t){return e.updateObject(n,u,t)}},t)):null})))),r.a.createElement(x.a.Column,{width:3,verticalAlign:"middle",textAlign:"right"},l&&u!==i.length-1&&r.a.createElement(O.a,{circular:!0,icon:"angle right",onClick:this.nextPage})))):this.renderEmpty(),r.a.createElement(q,{open:this.state.drawing,dismiss:this.closeDrawingModal,confirm:function(t){return e.addDrawing(u,t)}}))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));D.forEach((function(e){var t=e.name,n=e.src;M[t]=new Promise((function(e,a){var r=document.createElement("script");r.src=n,r.onload=function(){e(window[t]),console.log("".concat(t," is loaded."))},r.onerror=function(){return a("The script ".concat(t," didn't load correctly."))},document.body.appendChild(r)}))})),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[224,1,2]]]);
//# sourceMappingURL=main.1a6218b7.chunk.js.map